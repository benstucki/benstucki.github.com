--- 
type: post
published: true
status: publish
tags: 
- Flash
- Archive
title: 3D Flash and 3D Glasses
layout: post
---
<img src="http://web.archive.org/web/20050407020144im_/http://blog.benstucki.net/images/3dg.jpg" width="63" height="69" align="left" style="margin-right:8px;margin-bottom:3px;border:1px thin #000000;">
	 <strong>3D Flash and 3D Glasses [ Mon, 4 Apr 2005 11:11:11 AM GMT ]</strong><br/>
     Recently a reader recommended that I try my pixel3D experiment in red/blue for use with 3D glasses. I was curious as to why I hadn't seen this done in Flash before, so I decided to give it a try by modifying the same <a href="http://web.archive.org/web/20050407020144/http://www.bit-101.com/" target="_blank">bit-101</a> code that I used in my last experiment. When you <a href="http://web.archive.org/web/20050407020144/http://lab.benstucki.net/flash/AnaglyphCube.htm" target="_blank">try it out</a>, be sure to give it a few clicks to get the full effect. You can also feel free to <a href="http://web.archive.org/web/20050407020144/http://www.benstucki.net/downloads/AnaglyphCube.zip">download the source</a>, and see what makes it tick. If you need 3D glasses, I'll send you some with a minimum <a href="http://web.archive.org/web/20050407020144/https://www.paypal.com/xclick/business=paypal@benstucki.net&item_name=3D%20Glasses&item_number=3DG&no_shipping=2&tax=0&currency_code=USD&lc=US" target="_blank">donation</a> of two dollars each. They're hard to find when you're actually looking for them. So I decided to buy a whole box and offer them at cost. I also thought I would blog a bit about creating anaglyphs (3D images) in Flash and a little on how they work. To follow along, you may need a very basic knowledge of how humans perceive depth.</p>
<p> Anaglyphs trick your brain into assigning false depths to parts of a flat surface by  presenting slightly different images to each eye. They achieve this by taking advantage of the color filtering lenses in 3D glasses. We can also take advantage of this in Flash by using the right colors in the right places. In general, you should stick with red (0xFF0000), cyan (0x00FFFF), yellow (0xFFFF00) and white (0xFFFFFF). White should be used as your background color, while red and cyan will serve as outlines. With 3D glasses, the red will appear black to your right eye and white to your left eye. Similarly, cyan will appear black to your left eye and white to your right eye. Yellow works well as a fill, because it  is a light enough  color not to interfere with our outlines. Now that we know what colors to use, we also need to know how to place our outlines and fills correctly.</p>
<p>The depths of objects in an anaglyph are relative to the screen, because that is where the user's eyes will be focused. Therefore, if our red and cyan outlines completely overlap each other, there will be no illusion. However if red is to the left of cyan, the outline will appear closer to you. Similarly, if red is to the right of cyan, the outline will appear further away. I have found that it is best to place the yellow fill along with the red outline, as the cyan filter allows more color through. This also works better because most people (right handed people) favor their right eye. You should be sure that the fill is stacked below both of the outlines and does not cover either at any time. Also be sure that both outlines have an alpha of around 50%, so that the overlapping sections are less noticeable. A simple alpha blend is not the ideal way to handle overlaps and creates areas visible to both eyes that interfere with the illusion. To get the correct color calculations for overlapping sections we would need a more advanced graphics program than Flash 7, such as PhotoShop, Fireworks, or perhaps Flash 8. Until then, we should stick with basic shapes.</p>
<p>Now that you have an understanding of how anaglyphs work, applying the technique to an existing 3D Flash engine is fairly simple. Objects in any 3D engine should have a variable that represent its depth (typically z). While each engine's values for depth are different, you can always calculate the separation of an object's red and cyan outlines as a function of its depth. Some tweaking may be required to get it just right, but it should only take a couple extra movie clips and a few more lines of code. Not too bad for tricking the human brain.</p>